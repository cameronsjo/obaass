{"id":"obaass-02y","title":"Validate obsidian-headless Docker build","description":"CI triggered on push. Verify the image builds successfully on GitHub Actions, is published to ghcr.io/cameronsjo/obsidian-headless, and has build provenance attestation.","status":"open","priority":1,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-11T19:53:00.789143-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-11T19:56:57.479772-06:00","labels":["ci"]}
{"id":"obaass-0ve","title":"Evaluate Go migration for obsidi-backup","description":"restic-as-library + go-git eliminates subprocess layer AND the USER root Dockerfile hack. Strongest security argument: compiled-in plugins eliminate pip supply chain vector (malicious pip summarizer = root vault access). Sequence: stabilize plugin interfaces in Python first, THEN migrate. Blocked by plugin architecture design. Ref: obaass-migration-eval.md from prior session.","status":"open","priority":3,"issue_type":"feature","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:16:00.104667-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:16:00.104667-06:00","labels":["plan-worthy"],"dependencies":[{"issue_id":"obaass-0ve","depends_on_id":"obaass-3ev","type":"blocks","created_at":"2026-02-13T10:16:04.550744-06:00","created_by":"Cameron Sjo"}]}
{"id":"obaass-1my","title":"Add content filtering before Anthropic API calls","description":"Vault diffs sent to Anthropic for commit messages contain raw note content. Strip lines matching common secret patterns (password, api_key, token, Bearer, etc.) from diffs before sending. Consider max diff size limit. Ref: docs/threat-model.md TB-1, TE-1, Scenario 2.","status":"open","priority":0,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:04:41.804843-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:04:41.804843-06:00"}
{"id":"obaass-1qa","title":"Validate Obsidian CLI and Sync post-migration","description":"After deployment, verify headless container is functional: CLI responds, vault accessible, Sync active, backup sidecar getting change events. Risk: Sync auth may need re-auth if credentials not preserved in volume.","status":"open","priority":1,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-11T19:53:03.575554-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-11T19:56:57.479041-06:00","labels":["validation"]}
{"id":"obaass-3ev","title":"Plugin architecture for obsidi-backup","description":"Epic: Extract extensibility points into a plugin model. Summarizer first, then notifications. Stabilize interfaces in Python before Go migration. Ref: prompts/obaass-migration-eval.md","status":"open","priority":2,"issue_type":"epic","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:15:58.363502-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:17:02.308054-06:00","labels":["plan-worthy"]}
{"id":"obaass-3ev.1","title":"Define CommitSummarizer Protocol and plugin discovery","description":"Define the CommitSummarizer Protocol class (summarize(changed_files, stats, max_length) -\u003e str | None). Add entry point discovery via pyproject.toml [project.entry-points.\"vault_backup.summarizers\"]. Add SUMMARIZER env var for selecting active summarizer. This is the foundation — all other plugin work depends on it. Ref: obaass-migration-eval.md plugin architecture section.","status":"open","priority":2,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:17:09.332965-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:17:09.332965-06:00","labels":["plan-worthy"],"dependencies":[{"issue_id":"obaass-3ev.1","depends_on_id":"obaass-3ev","type":"parent-child","created_at":"2026-02-13T10:17:09.333963-06:00","created_by":"Cameron Sjo"}]}
{"id":"obaass-3ev.2","title":"Extract built-in summarizer implementations","description":"Refactor existing LLM code into protocol implementations: AnthropicSummarizer, OpenAISummarizer, TimestampSummarizer (fallback), NullSummarizer (explicitly disabled). Move from monolithic backup.py into vault_backup/summarizers/ package. Mechanical extraction once Protocol is defined.","status":"open","priority":2,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:17:12.036956-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:17:12.036956-06:00","labels":["just-do-it"],"dependencies":[{"issue_id":"obaass-3ev.2","depends_on_id":"obaass-3ev","type":"parent-child","created_at":"2026-02-13T10:17:12.037542-06:00","created_by":"Cameron Sjo"},{"issue_id":"obaass-3ev.2","depends_on_id":"obaass-3ev.1","type":"blocks","created_at":"2026-02-13T10:17:21.330848-06:00","created_by":"Cameron Sjo"}]}
{"id":"obaass-3ev.3","title":"Upgrade notification providers to plugin model","description":"NotificationProvider ABC already exists and is 90% there. Missing: (1) entry point discovery for third-party providers, (2) per-provider config namespacing (NOTIFY_DISCORD_*, NOTIFY_SLACK_*), (3) per-provider retry policy declaration. Ref: obaass-migration-eval.md notification plugin model section.","status":"open","priority":2,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:17:14.065332-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:17:14.065332-06:00","labels":["just-do-it"],"dependencies":[{"issue_id":"obaass-3ev.3","depends_on_id":"obaass-3ev","type":"parent-child","created_at":"2026-02-13T10:17:14.06597-06:00","created_by":"Cameron Sjo"},{"issue_id":"obaass-3ev.3","depends_on_id":"obaass-3ev.1","type":"blocks","created_at":"2026-02-13T10:17:21.453736-06:00","created_by":"Cameron Sjo"}]}
{"id":"obaass-3ev.4","title":"Document plugin trust boundaries in threat model","description":"Update docs/threat-model.md with plugin-specific threats: (1) summarizer plugins receive filenames/content — exfiltration risk, (2) notification plugins receive operational metadata, (3) pip-installed plugins inherit full process permissions (no sandbox), (4) DiffSummarizer variant sends actual content — must be opt-in. Reinforces case for non-root container and Go migration.","status":"open","priority":2,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:17:16.62494-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:17:16.62494-06:00","labels":["just-do-it"],"dependencies":[{"issue_id":"obaass-3ev.4","depends_on_id":"obaass-3ev","type":"parent-child","created_at":"2026-02-13T10:17:16.625556-06:00","created_by":"Cameron Sjo"},{"issue_id":"obaass-3ev.4","depends_on_id":"obaass-3ev.1","type":"blocks","created_at":"2026-02-13T10:17:21.574952-06:00","created_by":"Cameron Sjo"}]}
{"id":"obaass-5n1","title":"Bind health server to localhost in obsidi-backup","description":"Health server binds 0.0.0.0 (health.py:208). Exposes operational metadata (last backup time, sync state, pending changes) to anyone with network access. Bind to 127.0.0.1 by default, make configurable. Ref: backup-review.md.","status":"open","priority":2,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:15:50.659756-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:15:50.659756-06:00","labels":["just-do-it"]}
{"id":"obaass-60a","title":"Drop root in obsidi-backup Dockerfile","description":"Container runs as USER root for git safe.directory. Health server (port 8080) runs as root too. Fix: run git-config init steps as root in entrypoint, then drop to uid 1000 via gosu/su-exec before main loop. Ref: backup-review.md, Dockerfile line 52.","status":"open","priority":1,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:15:46.763042-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:15:46.763042-06:00","labels":["just-do-it"]}
{"id":"obaass-77u","title":"Cleanup: .coverage in git, duplicate USER_AGENT, htmx vendoring","description":"Housekeeping batch: (1) Add .coverage to .gitignore, (2) Consolidate _USER_AGENT from backup.py and notify.py into __init__.py, (3) Document htmx.min.js vendored version and update process. Ref: backup-review.md nitpicks.","status":"open","priority":4,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:15:55.238884-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:15:55.238884-06:00","labels":["just-do-it"]}
{"id":"obaass-80x","title":"Implement MCP bearer token authentication","description":"obsidi-mcp should require a bearer token even when behind Agentgateway (defense in depth). If no token is configured, refuse to start or log a loud warning every 60 seconds. Ref: docs/threat-model.md TA-1, TA-2.","status":"open","priority":1,"issue_type":"feature","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:04:45.765439-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:04:45.765439-06:00"}
{"id":"obaass-917","title":"Move secrets to Docker secrets","description":"RESTIC_PASSWORD and ANTHROPIC_API_KEY are plain environment variables. Migrate to Docker secrets or a secrets manager. Ref: docs/threat-model.md TB-5.","status":"open","priority":1,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:04:47.246586-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:04:47.246586-06:00"}
{"id":"obaass-cd5","title":"Deploy headless Obsidian to Unraid","description":"Push homelab infra changes to swap linuxserver/obsidian VNC image for cameronsjo/obsidian-headless. Bosun auto-deploys on push. Changes already written to homelab repo.","status":"open","priority":1,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-11T19:53:01.939086-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-11T19:56:57.479471-06:00","labels":["infra"]}
{"id":"obaass-d38","title":"Add retry logic to webhook notifications","description":"notify.py _post_json is fire-and-forget. Single retry with exponential backoff for flaky webhook targets (n8n rebooting, etc). Discord/Slack are reliable but generic webhooks may not be. Ref: backup-review.md.","status":"open","priority":3,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:15:52.830031-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:15:52.830031-06:00","labels":["just-do-it"]}
{"id":"obaass-dhr","title":"Document no-auth risk prominently in README","description":"The no-auth deployment risk is buried in docs/mcp-integration.md. Add a visible security callout in README.md Quick Start section warning that deploying without auth exposes full vault read/write to the network. Ref: docs/threat-model.md TA-1.","status":"open","priority":0,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:04:44.171559-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:04:44.171559-06:00"}
{"id":"obaass-gct","title":"Sanitize LLM output in commit messages","description":"AI-generated commit messages go directly into git commit -m. subprocess.run with list mitigates command injection, but commit message could contain garbage, control chars, or be excessively long. Truncate to 60 chars, strip control characters, reject suspicious content. Ref: backup.py:197-198.","status":"open","priority":1,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:15:48.813876-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:15:48.813876-06:00","labels":["just-do-it"]}
{"id":"obaass-hic","title":"Write OBaaS documentation (sync-setup, mcp-integration, architecture)","description":"Create docs/ with setup guides referenced from README: sync-setup.md, mcp-integration.md, architecture.md. Can be written after deployment validates the actual sync auth flow.","status":"closed","priority":2,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-11T19:53:04.926782-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-12T19:32:12.866784-06:00","closed_at":"2026-02-12T19:32:12.866784-06:00","close_reason":"Created sync-setup.md and mcp-integration.md. Architecture.md already existed. TODOs flagged for post-deployment validation.","labels":["docs"]}
{"id":"obaass-hro","title":"Add MCP read-only mode for untrusted agents","description":"obsidi-mcp should support a configurable write-mode (read-only vs read-write). Untrusted agents get read-only access. Ref: docs/threat-model.md TH-2, TH-3, Scenario 1.","status":"open","priority":1,"issue_type":"feature","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:04:50.927634-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:04:50.927634-06:00"}
{"id":"obaass-lb1","title":"Bind obsidi-mcp to localhost by default","description":"docker-compose MUST NOT expose MCP ports to the network without auth in front. obsidi-mcp should bind to localhost only. Ref: docs/threat-model.md TA-1, Scenario 3.","status":"open","priority":0,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:04:40.023415-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:04:40.023415-06:00"}
{"id":"obaass-wmj","title":"Build obsidi-claude MCP server","description":"Decouple MCP server from current obsidian-mcp (REST API). New obsidi-claude uses Obsidian CLI. New repo, Docker image, optional service in obaas compose. Deferred from initial session.","status":"closed","priority":3,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-11T19:53:06.549555-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:18:33.269376-06:00","closed_at":"2026-02-13T10:18:33.269376-06:00","close_reason":"Already built","labels":["deferred"]}
{"id":"obaass-xzs","title":"Pin plugin versions in headless container","description":"Community plugins in obsidi-headless should never auto-update. Pin to specific versions via volume mounts. Audit plugins before version bumps. Ref: docs/threat-model.md TH-6, Scenario 4.","status":"open","priority":1,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-13T10:04:49.13257-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-13T10:04:49.13257-06:00"}
